<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Promociones</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container mt-4">
        <h2>Formulario para Aprovechar Promociones</h2>
        <form id="form-promociones">
            <!-- Campo Nombre Completo -->
            <div class="mb-3">
                <label for="nombre-completo" class="form-label">Nombre Completo</label>
                <input type="text" class="form-control" id="nombre-completo" required>
            </div>

            <!-- Campo Teléfono -->
            <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="tel" class="form-control" id="telefono" required>
            </div>

            <!-- Campo Tipo de Pago -->
            <div class="mb-3">
                <label for="tipo-pago" class="form-label">Tipo de Pago</label>
                <select class="form-select" id="tipo-pago" required>
                    <option value="efectivo">Efectivo</option>
                    <option value="tarjeta">Tarjeta</option>
                    <option value="transferencia">Transferencia</option>
                </select>
            </div>

            <!-- Sección de Productos Seleccionados -->
            <h4>Productos Seleccionados</h4>
            <ul id="productos-seleccionados" class="list-group mb-3"></ul>

            <h5>Total: Bs <span id="total-form">0.00</span></h5>

            <!-- Botón de Enviar -->
            <button type="submit" class="btn btn-success mt-3">Confirmar Pedido</button>
        </form>
    </div>

    <script>
        // Función para cargar los productos y el precio desde localStorage
        function cargarProductosYPrecio() {
            // Obtener productos y precio total desde localStorage
            const productosSeleccionados = JSON.parse(localStorage.getItem('productosSeleccionados')) || [];
            const totalPrecio = parseFloat(localStorage.getItem('totalPrecio')) || 0;

            // Actualizar la lista de productos en el formulario
            const listaProductos = document.getElementById('productos-seleccionados');
            listaProductos.innerHTML = ''; // Limpiar la lista de productos

            productosSeleccionados.forEach(producto => {
                const li = document.createElement('li');
                li.classList.add('list-group-item');
                li.textContent = `${producto.nombre} - Bs ${producto.precio.toFixed(2)}`;
                listaProductos.appendChild(li);
            });

            // Actualizar el precio total
            document.getElementById('total-form').textContent = totalPrecio.toFixed(2);
        }

        // Llamar a la función para cargar los productos y el precio al cargar la página
        window.onload = cargarProductosYPrecio;

        // Acción al enviar el formulario (por ahora, solo mostrar un mensaje)
        document.getElementById('form-promociones').addEventListener('submit', function(event) {
            event.preventDefault();
            alert('¡Pedido Confirmado!');
        });
        
        
    </script>
</body>
</html>

